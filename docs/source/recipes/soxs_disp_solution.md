# soxs_disp_solution

The [`soxs_disp_solution`](#soxspipe.recipes.soxs_disp_solution) recipe generates a first-guess dispersion solution for the instrument (measured along the central trace for each echelle order).

## Input

:::{include} inputs/soxs_disp_solution.md
:::

## Parameters

:::{include} parameters/soxs_disp_solution.md
:::

## Method

After preparing and calibrating the single-pinhole arc-lamp frame, the [`create_dispersion_map`](../utils/create_dispersion_map.md)) util is employed to detect and measure the positions of the arc lines on the frame. Once the line positions have been measured, a dispersion solution is generated by iteratively fitting a global polynomial against the observed line positions (see [`create_dispersion_map`](../utils/create_dispersion_map.md) for details). The algorithm used in the [`soxs_disp_solution`](#soxspipe.recipes.soxs_disp_solution) recipe is shown in {numref}`soxs_disp_solution_diagram`.

:::{figure-md} soxs_disp_solution_diagram
:target: soxs_disp_solution.png
![](soxs_disp_solution.png){width=600px}

The `soxs_disp_solution` recipe algorithm.
:::


## Output

:::{include} output/soxs_disp_solution.md
:::




## QC Metrics

The typical solution for the `soxs_disp_solution` recipe has sub-pixel residuals.

[![](https://live.staticflickr.com/65535/50330665336_accab9eed4_z.png)](https://live.staticflickr.com/65535/50330665336_accab9eed4_o.png)


:::{include} qcs/soxs_disp_solution.md
:::



## Recipe API

:::{autodoc2-object} soxspipe.recipes.soxs_disp_solution.soxs_disp_solution
:::
