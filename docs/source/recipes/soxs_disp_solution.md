# `soxs_disp_solution` - COMPLETED

[![](https://live.staticflickr.com/65535/50292838383_b824f69a86_z.png)](https://live.staticflickr.com/65535/50292838383_b824f69a86_o.png)

The purpose of the [`soxs_disp_solution`](../_api/soxspipe.recipes.soxs_disp_solution.html) is to use a single-pinhole arc-lamp frame (example image above) to generate a first guess dispersion solution.

![](soxs_disp_solution.png)

After prepare and calibrating the single-pinhole arc-lamp frame (using the [`subtract_calibrations`](../utils/subtract_calibrations.md)), the [`create_dispersion_map`](../utils/create_dispersion_map.md)) util is employed to detect and measure the positions of the arc lines on the frame. Below you can see the bright arc-lines outshining the traces of the order-centres and the detection of one of these lines during the [`create_dispersion_map`](../utils/create_dispersion_map.md)) util.

[![{@height=300px}](https://live.staticflickr.com/65535/50293674417_80470ed5f0_z.png)](https://live.staticflickr.com/65535/50293674417_80470ed5f0_o.png) [![{@height=300px}](https://live.staticflickr.com/65535/50294361037_a5a5ddd7f0_m.png)](https://live.staticflickr.com/65535/50294361037_a5a5ddd7f0_o.png)

Once the line positions have been measured, a dispersion solution is generated by iteratively fitting a global polynomial against the observed line-positions (see [`create_dispersion_map`](../utils/create_dispersion_map.md)) for details). The final product is a [Dispersion Map](../files/dispersion_map.md) file.

The typical solution for the `soxs_disp_solution` recipe has sub-pixel residuals.

[![](https://live.staticflickr.com/65535/50636320023_33a47c36d0_z.png)](https://live.staticflickr.com/65535/50636320023_33a47c36d0_o.png)
